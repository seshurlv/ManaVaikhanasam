(function(n){n.fn.camera=function(t){function ut(){if(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i))return!0}function g(){var t=n(i).width();n("li",i).removeClass("camera_visThumb");n("li",i).each(function(){var u=n(this).position(),s=n("ul",i).outerWidth(),h=n("ul",i).offset().left,c=n("> div",i).offset().left,r=c-h,f,e;r>0?n(".camera_prevThumbs",o).removeClass("hideNav"):n(".camera_prevThumbs",o).addClass("hideNav");s-r>t?n(".camera_nextThumbs",o).removeClass("hideNav"):n(".camera_nextThumbs",o).addClass("hideNav");f=u.left;e=u.left+n(this).width();e-r<=t&&f-r>=0&&n(this).addClass("camera_visThumb")})}function ni(){function r(){if(f=e.width(),t.height.indexOf("%")!=-1){var i=Math.round(f/(100/parseFloat(t.height)));u=t.minHeight!=""&&i<parseFloat(t.minHeight)?parseFloat(t.minHeight):i;e.css({height:u})}else t.height=="auto"?u=e.height():(u=parseFloat(t.height),e.css({height:u}));n(".camerarelative",c).css({width:f,height:u});n(".imgLoaded",c).each(function(){var s=n(this),h=s.attr("width"),c=s.attr("height"),v=s.index(),r,e,l=s.attr("data-alignment"),a=s.attr("data-portrait"),o,i;if((typeof l=="undefined"||l===!1||l==="")&&(l=t.alignment),(typeof a=="undefined"||a===!1||a==="")&&(a=t.portrait),a==!1||a=="false")if(h/c<f/u){o=f/h;i=Math.abs(u-c*o)*.5;switch(l){case"topLeft":r=0;break;case"topCenter":r=0;break;case"topRight":r=0;break;case"centerLeft":r="-"+i+"px";break;case"center":r="-"+i+"px";break;case"centerRight":r="-"+i+"px";break;case"bottomLeft":r="-"+i*2+"px";break;case"bottomCenter":r="-"+i*2+"px";break;case"bottomRight":r="-"+i*2+"px"}s.css({height:c*o,"margin-left":0,"margin-top":r,position:"absolute",visibility:"visible",width:f})}else{o=u/c;i=Math.abs(f-h*o)*.5;switch(l){case"topLeft":e=0;break;case"topCenter":e="-"+i+"px";break;case"topRight":e="-"+i*2+"px";break;case"centerLeft":e=0;break;case"center":e="-"+i+"px";break;case"centerRight":e="-"+i*2+"px";break;case"bottomLeft":e=0;break;case"bottomCenter":e="-"+i+"px";break;case"bottomRight":e="-"+i*2+"px"}s.css({height:u,"margin-left":e,"margin-top":0,position:"absolute",visibility:"visible",width:h*o})}else if(h/c<f/u){o=u/c;i=Math.abs(f-h*o)*.5;switch(l){case"topLeft":e=0;break;case"topCenter":e=i+"px";break;case"topRight":e=i*2+"px";break;case"centerLeft":e=0;break;case"center":e=i+"px";break;case"centerRight":e=i*2+"px";break;case"bottomLeft":e=0;break;case"bottomCenter":e=i+"px";break;case"bottomRight":e=i*2+"px"}s.css({height:u,"margin-left":e,"margin-top":0,position:"absolute",visibility:"visible",width:h*o})}else{o=f/h;i=Math.abs(u-c*o)*.5;switch(l){case"topLeft":r=0;break;case"topCenter":r=0;break;case"topRight":r=0;break;case"centerLeft":r=i+"px";break;case"center":r=i+"px";break;case"centerRight":r=i+"px";break;case"bottomLeft":r=i*2+"px";break;case"bottomCenter":r=i*2+"px";break;case"bottomRight":r=i*2+"px"}s.css({height:c*o,"margin-left":0,"margin-top":r,position:"absolute",visibility:"visible",width:f})}})}var i;gt==!0?(clearTimeout(i),i=setTimeout(r,200)):r();gt=!0}function vt(n){for(var i,r,t=n.length;t;i=parseInt(Math.random()*t),r=n[--t],n[t]=n[i],n[i]=r);return n}function dt(){var t,h;if(n(i).length&&!n(y).length){var r=n(i).outerWidth(),l=n("ul > li",i).outerWidth(),o=n("li.cameracurrent",i).length?n("li.cameracurrent",i).position():"",c=n("ul > li",i).length*n("ul > li",i).outerWidth(),u=n("ul",i).offset().left,s=n("> div",i).offset().left,f;f=u<0?"-"+(s-u):s-u;ri==!0&&(n("ul",i).width(n("ul > li",i).length*n("ul > li",i).outerWidth()),n(i).length&&!n(y).lenght&&e.css({marginBottom:n(i).outerHeight()}),g(),n("ul",i).width(n("ul > li",i).length*n("ul > li",i).outerWidth()),n(i).length&&!n(y).lenght&&e.css({marginBottom:n(i).outerHeight()}));ri=!1;t=n("li.cameracurrent",i).length?o.left:"";h=n("li.cameracurrent",i).length?o.left+n("li.cameracurrent",i).outerWidth():"";t<n("li.cameracurrent",i).outerWidth()&&(t=0);h-f>r?t+r<c?n("ul",i).animate({"margin-left":"-"+t+"px"},500,g):n("ul",i).animate({"margin-left":"-"+(n("ul",i).outerWidth()-r)+"px"},500,g):t-f<0?n("ul",i).animate({"margin-left":"-"+t+"px"},500,g):(n("ul",i).css({"margin-left":"auto","margin-right":"auto"}),setTimeout(g,100))}}function nt(){a=0;var i=n(".camera_bar_cont",o).width(),r=n(".camera_bar_cont",o).height();if(v!="pie")switch(kt){case"leftToRight":n("#"+h).css({right:i});break;case"rightToLeft":n("#"+h).css({left:i});break;case"topToBottom":n("#"+h).css({bottom:r});break;case"bottomToTop":n("#"+h).css({top:r})}else l.clearRect(0,0,t.pieDiameter,t.pieDiameter)}function p(w){var ri,ft,di,ir,er,fi,pi,wi,or,hi,gi,oi,nr,tr,yi,fr,ht,si,rt,it;if(r.addClass("camerasliding"),ii=!1,ri=parseFloat(n("div.cameraSlide.cameracurrent",c).index()),ft=w>0?w-1:ri==d-1?0:ri+1,di=n(".cameraSlide:eq("+ft+")",c),ir=n(".cameraSlide:eq("+(ft+1)+")",c).addClass("cameranext"),ri!=ft+1&&ir.hide(),n(".cameraContent",s).fadeOut(600),n(".camera_caption",s).show(),n(".camerarelative",di).append(n("> div ",r).eq(ft).find("> div.camera_effected")),n(".camera_target_content .cameraContent:eq("+ft+")",e).append(n("> div ",r).eq(ft).find("> div")),n(".imgLoaded",di).length){st.length>ft+1&&!n(".imgLoaded",ir).length&&(or=st[ft+1],hi=new Image,hi.src=or+"?"+(new Date).getTime(),ir.prepend(n(hi).attr("class","imgLoaded").css("visibility","hidden")),hi.onload=function(){pi=hi.naturalWidth;wi=hi.naturalHeight;n(hi).attr("data-alignment",lt[ft+1]).attr("data-portrait",ct[ft+1]);n(hi).attr("width",pi);n(hi).attr("height",wi);ni()});t.onLoaded.call(this);n(".camera_loader",e).is(":visible")?n(".camera_loader",e).fadeOut(400):(n(".camera_loader",e).css({visibility:"hidden"}),n(".camera_loader",e).fadeOut(400,function(){n(".camera_loader",e).css({visibility:"visible"})}));var tt=t.rows,g=t.cols,ei=1,gt=0,rr,pt,ui,et,vi;marginLeft=0;marginTop=0;opacityOnGrid=0;opacityOnGrid=t.opacityOnGrid==!0?0:1;gi=n(" > div",r).eq(ft).attr("data-fx");et=ut()&&t.mobileFx!=""&&t.mobileFx!="default"?t.mobileFx:typeof gi!="undefined"&&gi!==!1&&gi!=="default"?gi:t.fx;et=="random"?(et=vt(["simpleFade","curtainTopLeft","curtainTopRight","curtainBottomLeft","curtainBottomRight","curtainSliceLeft","curtainSliceRight","blindCurtainTopLeft","blindCurtainTopRight","blindCurtainBottomLeft","blindCurtainBottomRight","blindCurtainSliceBottom","blindCurtainSliceTop","stampede","mosaic","mosaicReverse","mosaicRandom","mosaicSpiral","mosaicSpiralReverse","topLeftBottomRight","bottomRightTopLeft","bottomLeftTopRight","topRightBottomLeft","scrollLeft","scrollRight","scrollTop","scrollBottom","scrollHorz"]),et=et[0]):(et=et,et.indexOf(",")>0&&(et=et.replace(/ /g,""),et=et.split(","),et=vt(et),et=et[0]));dataEasing=n(" > div",r).eq(ft).attr("data-easing");mobileEasing=n(" > div",r).eq(ft).attr("data-mobileEasing");vi=ut()&&t.mobileEasing!=""&&t.mobileEasing!="default"?typeof mobileEasing!="undefined"&&mobileEasing!==!1&&mobileEasing!=="default"?mobileEasing:t.mobileEasing:typeof dataEasing!="undefined"&&dataEasing!==!1&&dataEasing!=="default"?dataEasing:t.easing;rr=n(" > div",r).eq(ft).attr("data-slideOn");typeof rr!="undefined"&&rr!==!1?oi=rr:t.slideOn=="random"?(oi=["next","prev"],oi=vt(oi),oi=oi[0]):oi=t.slideOn;nr=n(" > div",r).eq(ft).attr("data-time");pt=typeof nr!="undefined"&&nr!==!1&&nr!==""?parseFloat(nr):t.time;tr=n(" > div",r).eq(ft).attr("data-transPeriod");ui=typeof tr!="undefined"&&tr!==!1&&tr!==""?parseFloat(tr):t.transPeriod;n(r).hasClass("camerastarted")||(et="simpleFade",oi="next",vi="",ui=400,n(r).addClass("camerastarted"));switch(et){case"simpleFade":g=1;tt=1;break;case"curtainTopLeft":g=t.slicedCols==0?t.cols:t.slicedCols;tt=1;break;case"curtainTopRight":g=t.slicedCols==0?t.cols:t.slicedCols;tt=1;break;case"curtainBottomLeft":g=t.slicedCols==0?t.cols:t.slicedCols;tt=1;break;case"curtainBottomRight":g=t.slicedCols==0?t.cols:t.slicedCols;tt=1;break;case"curtainSliceLeft":g=t.slicedCols==0?t.cols:t.slicedCols;tt=1;break;case"curtainSliceRight":g=t.slicedCols==0?t.cols:t.slicedCols;tt=1;break;case"blindCurtainTopLeft":tt=t.slicedRows==0?t.rows:t.slicedRows;g=1;break;case"blindCurtainTopRight":tt=t.slicedRows==0?t.rows:t.slicedRows;g=1;break;case"blindCurtainBottomLeft":tt=t.slicedRows==0?t.rows:t.slicedRows;g=1;break;case"blindCurtainBottomRight":tt=t.slicedRows==0?t.rows:t.slicedRows;g=1;break;case"blindCurtainSliceTop":tt=t.slicedRows==0?t.rows:t.slicedRows;g=1;break;case"blindCurtainSliceBottom":tt=t.slicedRows==0?t.rows:t.slicedRows;g=1;break;case"stampede":gt="-"+ui;break;case"mosaic":gt=t.gridDifference;break;case"mosaicReverse":gt=t.gridDifference;break;case"mosaicSpiral":gt=t.gridDifference;ei=1.7;break;case"mosaicSpiralReverse":gt=t.gridDifference;ei=1.7;break;case"topLeftBottomRight":gt=t.gridDifference;ei=6;break;case"bottomRightTopLeft":gt=t.gridDifference;ei=6;break;case"bottomLeftTopRight":gt=t.gridDifference;ei=6;break;case"topRightBottomLeft":gt=t.gridDifference;ei=6;break;case"scrollLeft":g=1;tt=1;break;case"scrollRight":g=1;tt=1;break;case"scrollTop":g=1;tt=1;break;case"scrollBottom":g=1;tt=1;break;case"scrollHorz":g=1;tt=1}for(var li=0,bi=tt*g,sr=f-Math.floor(f/g)*g,hr=u-Math.floor(u/tt)*tt,at,yt,ki=0,ur=0,wt=[],ai=[],ti=[];li<bi;)wt.push(li),ai.push(li),bt.append('<div class="cameraappended" style="display:none; overflow:hidden; position:absolute; z-index:1000" />'),yi=n(".cameraappended:eq("+li+")",c),et=="scrollLeft"||et=="scrollRight"||et=="scrollTop"||et=="scrollBottom"||et=="scrollHorz"?k.eq(ft).clone().show().appendTo(yi):oi=="next"?k.eq(ft).clone().show().appendTo(yi):k.eq(ri).clone().show().appendTo(yi),at=li%g<sr?1:0,li%g==0&&(ki=0),yt=Math.floor(li/g)<hr?1:0,yi.css({height:Math.floor(u/tt+yt+1),left:ki,top:ur,width:Math.floor(f/g+at+1)}),n("> .cameraSlide",yi).css({height:u,"margin-left":"-"+ki+"px","margin-top":"-"+ur+"px",width:f}),ki=ki+yi.width()-1,li%g==g-1&&(ur=ur+yi.height()-1),li++;switch(et){case"curtainTopRight":wt=wt.reverse();break;case"curtainBottomRight":wt=wt.reverse();break;case"curtainSliceRight":wt=wt.reverse();break;case"blindCurtainBottomLeft":wt=wt.reverse();break;case"blindCurtainBottomRight":wt=wt.reverse();break;case"blindCurtainSliceBottom":wt=wt.reverse();break;case"stampede":wt=vt(wt);break;case"mosaicReverse":wt=wt.reverse();break;case"mosaicRandom":wt=vt(wt);break;case"mosaicSpiral":for(fr=tt/2,si=0,ht=0;ht<fr;ht++){for(rt=ht,it=ht;it<g-ht-1;it++)ti[si++]=rt*g+it;for(it=g-ht-1,rt=ht;rt<tt-ht-1;rt++)ti[si++]=rt*g+it;for(rt=tt-ht-1,it=g-ht-1;it>ht;it--)ti[si++]=rt*g+it;for(it=ht,rt=tt-ht-1;rt>ht;rt--)ti[si++]=rt*g+it}wt=ti;break;case"mosaicSpiralReverse":for(fr=tt/2,si=bi-1,ht=0;ht<fr;ht++){for(rt=ht,it=ht;it<g-ht-1;it++)ti[si--]=rt*g+it;for(it=g-ht-1,rt=ht;rt<tt-ht-1;rt++)ti[si--]=rt*g+it;for(rt=tt-ht-1,it=g-ht-1;it>ht;it--)ti[si--]=rt*g+it;for(it=ht,rt=tt-ht-1;rt>ht;rt--)ti[si--]=rt*g+it}wt=ti;break;case"topLeftBottomRight":for(rt=0;rt<tt;rt++)for(it=0;it<g;it++)ti.push(it+rt);ai=ti;break;case"bottomRightTopLeft":for(rt=0;rt<tt;rt++)for(it=0;it<g;it++)ti.push(it+rt);ai=ti.reverse();break;case"bottomLeftTopRight":for(rt=tt;rt>0;rt--)for(it=0;it<g;it++)ti.push(it+rt);ai=ti;break;case"topRightBottomLeft":for(rt=0;rt<tt;rt++)for(it=g;it>0;it--)ti.push(it+rt);ai=ti}n.each(wt,function(w,it){function st(){var g,e,w,d,y;n(this).addClass("cameraeased");n(".cameraeased",c).length>=0&&n(i).css({visibility:"visible"});n(".cameraeased",c).length==bi&&(dt(),n(".moveFromLeft, .moveFromRight, .moveFromTop, .moveFromBottom, .fadeIn, .fadeFromLeft, .fadeFromRight, .fadeFromTop, .fadeFromBottom",s).each(function(){n(this).css("visibility","hidden")}),k.eq(ft).show().css("z-index","999").removeClass("cameranext").addClass("cameracurrent"),k.eq(ri).css("z-index","1").removeClass("cameracurrent"),n(".cameraContent",s).eq(ft).addClass("cameracurrent"),ri>=0&&n(".cameraContent",s).eq(ri).removeClass("cameracurrent"),t.onEndTransition.call(this),n("> div",r).eq(ft).attr("data-video")!="hide"&&n(".cameraContent.cameracurrent .imgFake",s).length&&n(".cameraContent.cameracurrent .imgFake",s).click(),g=k.eq(ft).find(".fadeIn").length,e=n(".cameraContent",s).eq(ft).find(".moveFromLeft, .moveFromRight, .moveFromTop, .moveFromBottom, .fadeIn, .fadeFromLeft, .fadeFromRight, .fadeFromTop, .fadeFromBottom").length,g!=0&&n(".cameraSlide.cameracurrent .fadeIn",s).each(function(){var u,t,i,r;u=n(this).attr("data-easing")!=""?n(this).attr("data-easing"):vi;t=n(this);typeof t.attr("data-outerWidth")=="undefined"||t.attr("data-outerWidth")===!1||t.attr("data-outerWidth")===""?(i=t.outerWidth(),t.attr("data-outerWidth",i)):i=t.attr("data-outerWidth");typeof t.attr("data-outerHeight")=="undefined"||t.attr("data-outerHeight")===!1||t.attr("data-outerHeight")===""?(r=t.outerHeight(),t.attr("data-outerHeight",r)):r=t.attr("data-outerHeight");var f=t.position(),s=f.left,h=f.top,e=t.attr("class"),o=t.index(),c=t.parents(".camerarelative").outerHeight(),l=t.parents(".camerarelative").outerWidth();e.indexOf("fadeIn")!=-1?t.animate({opacity:0},0).css("visibility","visible").delay(pt/g*.1*(o-1)).animate({opacity:1},pt/g*.15,u):t.css("visibility","visible")}),n(".cameraContent.cameracurrent",s).show(),e!=0&&n(".cameraContent.cameracurrent .moveFromLeft, .cameraContent.cameracurrent .moveFromRight, .cameraContent.cameracurrent .moveFromTop, .cameraContent.cameracurrent .moveFromBottom, .cameraContent.cameracurrent .fadeIn, .cameraContent.cameracurrent .fadeFromLeft, .cameraContent.cameracurrent .fadeFromRight, .cameraContent.cameracurrent .fadeFromTop, .cameraContent.cameracurrent .fadeFromBottom",s).each(function(){var i=n(this).attr("data-easing")!=""?n(this).attr("data-easing"):vi;var t=n(this),r=t.position(),c=r.left,l=r.top,o=t.attr("class"),s=t.index(),h=t.outerHeight();o.indexOf("moveFromLeft")!=-1?(t.css({left:"-"+f+"px",right:"auto"}),t.css("visibility","visible").delay(pt/e*.1*(s-1)).animate({left:r.left},pt/e*.15,i)):o.indexOf("moveFromRight")!=-1?(t.css({left:f+"px",right:"auto"}),t.css("visibility","visible").delay(pt/e*.1*(s-1)).animate({left:r.left},pt/e*.15,i)):o.indexOf("moveFromTop")!=-1?(t.css({top:"-"+u+"px",bottom:"auto"}),t.css("visibility","visible").delay(pt/e*.1*(s-1)).animate({top:r.top},pt/e*.15,i,function(){t.css({top:"auto",bottom:0})})):o.indexOf("moveFromBottom")!=-1?(t.css({top:u+"px",bottom:"auto"}),t.css("visibility","visible").delay(pt/e*.1*(s-1)).animate({top:r.top},pt/e*.15,i)):o.indexOf("fadeFromLeft")!=-1?(t.animate({opacity:0},0).css({left:"-"+f+"px",right:"auto"}),t.css("visibility","visible").delay(pt/e*.1*(s-1)).animate({left:r.left,opacity:1},pt/e*.15,i)):o.indexOf("fadeFromRight")!=-1?(t.animate({opacity:0},0).css({left:f+"px",right:"auto"}),t.css("visibility","visible").delay(pt/e*.1*(s-1)).animate({left:r.left,opacity:1},pt/e*.15,i)):o.indexOf("fadeFromTop")!=-1?(t.animate({opacity:0},0).css({top:"-"+u+"px",bottom:"auto"}),t.css("visibility","visible").delay(pt/e*.1*(s-1)).animate({top:r.top,opacity:1},pt/e*.15,i,function(){t.css({top:"auto",bottom:0})})):o.indexOf("fadeFromBottom")!=-1?(t.animate({opacity:0},0).css({bottom:"-"+h+"px"}),t.css("visibility","visible").delay(pt/e*.1*(s-1)).animate({bottom:"0",opacity:1},pt/e*.15,i)):o.indexOf("fadeIn")!=-1?t.animate({opacity:0},0).css("visibility","visible").delay(pt/e*.1*(s-1)).animate({opacity:1},pt/e*.15,i):t.css("visibility","visible")}),n(".cameraappended",c).remove(),r.removeClass("camerasliding"),k.eq(ri).hide(),w=n(".camera_bar_cont",o).width(),d=n(".camera_bar_cont",o).height(),y=v!="pie"?.05:.005,n("#"+h).animate({opacity:t.loaderOpacity},200),b=setInterval(function(){if(r.hasClass("stopped")&&clearInterval(b),v!="pie"){a<=1.002&&!r.hasClass("stopped")&&!r.hasClass("paused")&&!r.hasClass("hovered")?a=a+y:a<=1&&(r.hasClass("stopped")||r.hasClass("paused")||r.hasClass("stopped")||r.hasClass("hovered"))?a=a:r.hasClass("stopped")||r.hasClass("paused")||r.hasClass("hovered")||(clearInterval(b),imgFake(),n("#"+h).animate({opacity:0},200,function(){clearTimeout(ot);ot=setTimeout(nt,rt);p();t.onStartLoading.call(this)}));switch(kt){case"leftToRight":n("#"+h).animate({right:w-w*a},pt*y,"linear");break;case"rightToLeft":n("#"+h).animate({left:w-w*a},pt*y,"linear");break;case"topToBottom":n("#"+h).animate({bottom:d-d*a},pt*y,"linear");break;case"bottomToTop":n("#"+h).animate({bottom:d-d*a},pt*y,"linear")}}else ci=a,l.clearRect(0,0,t.pieDiameter,t.pieDiameter),l.globalCompositeOperation="destination-over",l.beginPath(),l.arc(t.pieDiameter/2,t.pieDiameter/2,t.pieDiameter/2-t.loaderStroke,0,Math.PI*2,!1),l.lineWidth=t.loaderStroke,l.strokeStyle=t.loaderBgColor,l.stroke(),l.closePath(),l.globalCompositeOperation="source-over",l.beginPath(),l.arc(t.pieDiameter/2,t.pieDiameter/2,t.pieDiameter/2-t.loaderStroke,0,Math.PI*2*ci,!1),l.lineWidth=t.loaderStroke-t.loaderPadding*2,l.strokeStyle=t.loaderColor,l.stroke(),l.closePath(),a<=1.002&&!r.hasClass("stopped")&&!r.hasClass("paused")&&!r.hasClass("hovered")?a=a+y:a<=1&&(r.hasClass("stopped")||r.hasClass("paused")||r.hasClass("hovered"))?a=a:r.hasClass("stopped")||r.hasClass("paused")||r.hasClass("hovered")||(clearInterval(b),imgFake(),n("#"+h+", .camera_canvas_wrap",o).animate({opacity:0},200,function(){clearTimeout(ot);ot=setTimeout(nt,rt);p();t.onStartLoading.call(this)}))},pt*y))}var ut,rt;at=it%g<sr?1:0;it%g==0&&(ki=0);yt=Math.floor(it/g)<hr?1:0;switch(et){case"simpleFade":height=u;width=f;opacityOnGrid=0;break;case"curtainTopLeft":height=0;width=Math.floor(f/g+at+1);marginTop="-"+Math.floor(u/tt+yt+1)+"px";break;case"curtainTopRight":height=0;width=Math.floor(f/g+at+1);marginTop="-"+Math.floor(u/tt+yt+1)+"px";break;case"curtainBottomLeft":height=0;width=Math.floor(f/g+at+1);marginTop=Math.floor(u/tt+yt+1)+"px";break;case"curtainBottomRight":height=0;width=Math.floor(f/g+at+1);marginTop=Math.floor(u/tt+yt+1)+"px";break;case"curtainSliceLeft":height=0;width=Math.floor(f/g+at+1);marginTop=it%2==0?Math.floor(u/tt+yt+1)+"px":"-"+Math.floor(u/tt+yt+1)+"px";break;case"curtainSliceRight":height=0;width=Math.floor(f/g+at+1);marginTop=it%2==0?Math.floor(u/tt+yt+1)+"px":"-"+Math.floor(u/tt+yt+1)+"px";break;case"blindCurtainTopLeft":height=Math.floor(u/tt+yt+1);width=0;marginLeft="-"+Math.floor(f/g+at+1)+"px";break;case"blindCurtainTopRight":height=Math.floor(u/tt+yt+1);width=0;marginLeft=Math.floor(f/g+at+1)+"px";break;case"blindCurtainBottomLeft":height=Math.floor(u/tt+yt+1);width=0;marginLeft="-"+Math.floor(f/g+at+1)+"px";break;case"blindCurtainBottomRight":height=Math.floor(u/tt+yt+1);width=0;marginLeft=Math.floor(f/g+at+1)+"px";break;case"blindCurtainSliceBottom":height=Math.floor(u/tt+yt+1);width=0;marginLeft=it%2==0?"-"+Math.floor(f/g+at+1)+"px":Math.floor(f/g+at+1)+"px";break;case"blindCurtainSliceTop":height=Math.floor(u/tt+yt+1);width=0;marginLeft=it%2==0?"-"+Math.floor(f/g+at+1)+"px":Math.floor(f/g+at+1)+"px";break;case"stampede":height=0;width=0;marginLeft=f*.2*(w%g-(g-Math.floor(g/2)))+"px";marginTop=u*.2*(Math.floor(w/g)+1-(tt-Math.floor(tt/2)))+"px";break;case"mosaic":height=0;width=0;break;case"mosaicReverse":height=0;width=0;marginLeft=Math.floor(f/g+at+1)+"px";marginTop=Math.floor(u/tt+yt+1)+"px";break;case"mosaicRandom":height=0;width=0;marginLeft=Math.floor(f/g+at+1)*.5+"px";marginTop=Math.floor(u/tt+yt+1)*.5+"px";break;case"mosaicSpiral":height=0;width=0;marginLeft=Math.floor(f/g+at+1)*.5+"px";marginTop=Math.floor(u/tt+yt+1)*.5+"px";break;case"mosaicSpiralReverse":height=0;width=0;marginLeft=Math.floor(f/g+at+1)*.5+"px";marginTop=Math.floor(u/tt+yt+1)*.5+"px";break;case"topLeftBottomRight":height=0;width=0;break;case"bottomRightTopLeft":height=0;width=0;marginLeft=Math.floor(f/g+at+1)+"px";marginTop=Math.floor(u/tt+yt+1)+"px";break;case"bottomLeftTopRight":height=0;width=0;marginLeft=0;marginTop=Math.floor(u/tt+yt+1)+"px";break;case"topRightBottomLeft":height=0;width=0;marginLeft=Math.floor(f/g+at+1)+"px";marginTop=0;break;case"scrollRight":height=u;width=f;marginLeft=-f;break;case"scrollLeft":height=u;width=f;marginLeft=f;break;case"scrollTop":height=u;width=f;marginTop=u;break;case"scrollBottom":height=u;width=f;marginTop=-u;break;case"scrollHorz":height=u;width=f;marginLeft=ri==0&&ft==d-1?-f:ri<ft||ri==d-1&&ft==0?f:-f}ut=n(".cameraappended:eq("+it+")",c);typeof b!="undefined"&&(clearInterval(b),clearTimeout(ot),ot=setTimeout(nt,ui+gt));n(y).length&&(n(".camera_pag li",e).removeClass("cameracurrent"),n(".camera_pag li",e).eq(ft).addClass("cameracurrent"));n(i).length&&(n("li",i).removeClass("cameracurrent"),n("li",i).eq(ft).addClass("cameracurrent"),n("li",i).not(".cameracurrent").find("img").animate({opacity:.5},0),n("li.cameracurrent img",i).animate({opacity:1},0),n("li",i).hover(function(){n("img",this).stop(!0,!1).animate({opacity:1},150)},function(){n(this).hasClass("cameracurrent")||n("img",this).stop(!0,!1).animate({opacity:.5},150)}));rt=parseFloat(ui)+parseFloat(gt);et=="scrollLeft"||et=="scrollRight"||et=="scrollTop"||et=="scrollBottom"||et=="scrollHorz"?(t.onStartTransition.call(this),rt=0,ut.delay((ui+gt)/bi*ai[w]*ei*.5).css({display:"block",height:height,"margin-left":marginLeft,"margin-top":marginTop,width:width}).animate({height:Math.floor(u/tt+yt+1),"margin-top":0,"margin-left":0,width:Math.floor(f/g+at+1)},ui-gt,vi,st),k.eq(ri).delay((ui+gt)/bi*ai[w]*ei*.5).animate({"margin-left":marginLeft*-1,"margin-top":marginTop*-1},ui-gt,vi,function(){n(this).css({"margin-top":0,"margin-left":0})})):(t.onStartTransition.call(this),rt=parseFloat(ui)+parseFloat(gt),oi=="next"?ut.delay((ui+gt)/bi*ai[w]*ei*.5).css({display:"block",height:height,"margin-left":marginLeft,"margin-top":marginTop,width:width,opacity:opacityOnGrid}).animate({height:Math.floor(u/tt+yt+1),"margin-top":0,"margin-left":0,opacity:1,width:Math.floor(f/g+at+1)},ui-gt,vi,st):(k.eq(ft).show().css("z-index","999").addClass("cameracurrent"),k.eq(ri).css("z-index","1").removeClass("cameracurrent"),n(".cameraContent",s).eq(ft).addClass("cameracurrent"),n(".cameraContent",s).eq(ri).removeClass("cameracurrent"),ut.delay((ui+gt)/bi*ai[w]*ei*.5).css({display:"block",height:Math.floor(u/tt+yt+1),"margin-top":0,"margin-left":0,opacity:1,width:Math.floor(f/g+at+1)}).animate({height:height,"margin-left":marginLeft,"margin-top":marginTop,width:width,opacity:opacityOnGrid},ui-gt,vi,st)))})}else er=st[ft],fi=new Image,fi.src=er+"?"+(new Date).getTime(),di.css("visibility","hidden"),di.prepend(n(fi).attr("class","imgLoaded").css("visibility","hidden")),n(fi).get(0).complete&&pi!="0"&&wi!="0"&&typeof pi!="undefined"&&pi!==!1&&typeof wi!="undefined"&&wi!==!1||(n(".camera_loader",e).delay(500).fadeIn(400),fi.onload=function(){pi=fi.naturalWidth;wi=fi.naturalHeight;n(fi).attr("data-alignment",lt[ft]).attr("data-portrait",ct[ft]);n(fi).attr("width",pi);n(fi).attr("height",wi);c.find(".cameraSlide_"+ft).hide().css("visibility","visible");ni();p(ft+1)})}var li={alignment:"center",autoAdvance:!0,mobileAutoAdvance:!0,barDirection:"leftToRight",barPosition:"bottom",cols:6,easing:"easeInOutExpo",mobileEasing:"",fx:"random",mobileFx:"",gridDifference:250,height:"50%",imagePath:"images/",hover:!0,loader:"pie",loaderColor:"#eeeeee",loaderBgColor:"#222222",loaderOpacity:.8,loaderPadding:2,loaderStroke:7,minHeight:"200px",navigation:!0,navigationHover:!0,mobileNavHover:!0,opacityOnGrid:!1,overlayer:!0,pagination:!0,playPause:!0,pauseOnClick:!0,pieDiameter:38,piePosition:"rightTop",portrait:!1,rows:4,slicedCols:12,slicedRows:8,slideOn:"random",thumbnails:!1,time:7e3,transPeriod:1500,onEndTransition:function(){},onLoaded:function(){},onStartLoading:function(){},onStartTransition:function(){}},t=n.extend({},li,t),e=n(this).addClass("camera_wrap"),s,v,ht,wt,ct,lt,at,d,tt,et,bt,rt,si,gt,f,u,hi,b,ot,it,vi,oi,y,ti,ii,k,kt,o,w,yt,a,ci,l,pt,ri;e.wrapInner('<div class="camera_src" />').wrapInner('<div class="camera_fakehover" />');s=n(".camera_fakehover",e);s.append('<div class="camera_target"><\/div>');t.overlayer==!0&&s.append('<div class="camera_overlayer"><\/div>');s.append('<div class="camera_target_content"><\/div>');v=t.loader=="pie"&&n.browser.msie&&n.browser.version<9?"bar":t.loader;v=="pie"?s.append('<div class="camera_pie"><\/div>'):v=="bar"?s.append('<div class="camera_bar"><\/div>'):s.append('<div class="camera_bar" style="display:none"><\/div>');t.playPause==!0&&s.append('<div class="camera_commands"><\/div>');t.navigation==!0&&(s.append('<div class="camera_nav"><\/div>'),n(".camera_nav").append('<div class="camera_prev"><\/div>').append('<div class="camera_next"><\/div>').append('<div class="camera_index"><\/div>'));t.thumbnails==!0&&e.append('<div class="camera_thumbs_cont" />');t.thumbnails==!0&&t.pagination!=!0&&n(".camera_thumbs_cont",e).wrap("<div />").wrap('<div class="camera_thumbs" />').wrap("<div />").wrap('<div class="camera_command_wrap" />');t.pagination==!0&&e.append('<div class="camera_pag"><\/div>');e.append('<div class="camera_loader"><\/div>');n(".camera_caption",e).each(function(){n(this).wrapInner("<div />")});var h="pie_"+e.index(),r=n(".camera_src",e),c=n(".camera_target",e),ui=n(".camera_target_content",e),ai=n(".camera_pie",e),ft=n(".camera_bar",e),fi=n(".camera_prev",e),ei=n(".camera_next",e),oi=n(".camera_commands",e),y=n(".camera_pag",e),i=n(".camera_thumbs_cont",e),f,u,st=[];for(n("> div",r).each(function(){st.push(n(this).attr("data-src"))}),ht=[],n("> div",r).each(function(){n(this).attr("data-link")?ht.push(n(this).attr("data-link")):ht.push("")}),wt=[],n("> div",r).each(function(){n(this).attr("data-target")?wt.push(n(this).attr("data-target")):wt.push("")}),ct=[],n("> div",r).each(function(){n(this).attr("data-portrait")?ct.push(n(this).attr("data-portrait")):ct.push("")}),lt=[],n("> div",r).each(function(){n(this).attr("data-alignment")?lt.push(n(this).attr("data-alignment")):lt.push("")}),at=[],n("> div",r).each(function(){n(this).attr("data-thumb")?at.push(n(this).attr("data-thumb")):at.push("")}),d=st.length,n(ui).append('<div class="cameraContents" />'),tt=0;tt<d;tt++)n(".cameraContents",ui).append('<div class="cameraContent" />'),ht[tt]!=""&&(et=n("> div ",r).eq(tt).attr("data-box"),et=typeof et!="undefined"&&et!==!1&&et!=""?'data-box="'+n("> div ",r).eq(tt).attr("data-box")+'"':"",n(".camera_target_content .cameraContent:eq("+tt+")",e).append('<a class="camera_link" href="'+ht[tt]+'" '+et+' target="'+wt[tt]+'"><\/a>'));for(n(".camera_caption",e).each(function(){var t=n(this).parent().index(),i=e.find(".cameraContent").eq(t);n(this).appendTo(i)}),c.append('<div class="cameraCont" />'),bt=n(".cameraCont",e),rt=0;rt<d;rt++)bt.append('<div class="cameraSlide cameraSlide_'+rt+'" />'),si=n("> div:eq("+rt+")",r),c.find(".cameraSlide_"+rt).clone(si);if(n(window).bind("load resize pageshow",function(){dt();g()}),bt.append('<div class="cameraSlide cameraSlide_'+rt+'" />'),e.show(),f=c.width(),u=c.height(),n(window).bind("resize pageshow",function(){gt==!0&&ni();n("ul",i).animate({"margin-top":0},0,dt);r.hasClass("paused")||(r.addClass("paused"),n(".camera_stop",o).length?(n(".camera_stop",o).hide(),n(".camera_play",o).show(),v!="none"&&n("#"+h).hide()):v!="none"&&n("#"+h).hide(),clearTimeout(hi),hi=setTimeout(function(){r.removeClass("paused");n(".camera_play",o).length?(n(".camera_play",o).hide(),n(".camera_stop",o).show(),v!="none"&&n("#"+h).fadeIn()):v!="none"&&n("#"+h).fadeIn()},1500))}),it=ut()&&t.mobileAutoAdvance!=""?t.mobileAutoAdvance:t.autoAdvance,it==!1&&r.addClass("paused"),vi=ut()&&t.mobileNavHover!=""?t.mobileNavHover:t.navigationHover,r.length!=0){k=n(".cameraSlide",c);k.wrapInner('<div class="camerarelative" />');kt=t.barDirection;o=e;n("iframe",s).each(function(){var t=n(this),r=t.attr("src"),i;t.attr("data-src",r);i=t.parent().index(".camera_src > div");n(".camera_target_content .cameraContent:eq("+i+")",e).append(t)});function imgFake(){n("iframe",s).each(function(){var r,i,l,o,c,h;n(".camera_caption",s).show();r=n(this);i=r.attr("data-src");r.attr("src",i);l=t.imagePath+"blank.gif";o=new Image;o.src=l;t.height.indexOf("%")!=-1?(c=Math.round(f/(100/parseFloat(t.height))),u=t.minHeight!=""&&c<parseFloat(t.minHeight)?parseFloat(t.minHeight):c):u=t.height=="auto"?e.height():parseFloat(t.height);r.after(n(o).attr({"class":"imgFake",width:f,height:u}));h=r.clone();r.remove();n(o).bind("click",function(){n(this).css("position")=="absolute"?(n(this).remove(),i.indexOf("vimeo")!=-1||i.indexOf("youtube")!=-1?autoplay=i.indexOf("?")!=-1?"&autoplay=1":"?autoplay=1":i.indexOf("dailymotion")!=-1&&(autoplay=i.indexOf("?")!=-1?"&autoPlay=1":"?autoPlay=1"),h.attr("src",i+autoplay),ii=!0):(n(this).css({position:"absolute",top:0,left:0,zIndex:10}).after(h),h.css({position:"absolute",top:0,left:0,zIndex:9}))})})}imgFake();t.hover==!0&&(ut()||s.hover(function(){r.addClass("hovered")},function(){r.removeClass("hovered")}));n(".camera_stop",o).live("click",function(){it=!1;r.addClass("paused");n(".camera_stop",o).length?(n(".camera_stop",o).hide(),n(".camera_play",o).show(),v!="none"&&n("#"+h).hide()):v!="none"&&n("#"+h).hide()});n(".camera_play",o).live("click",function(){it=!0;r.removeClass("paused");n(".camera_play",o).length?(n(".camera_play",o).hide(),n(".camera_stop",o).show(),v!="none"&&n("#"+h).show()):v!="none"&&n("#"+h).show()});t.pauseOnClick==!0&&n(".camera_target_content",s).mouseup(function(){it=!1;r.addClass("paused");n(".camera_stop",o).hide();n(".camera_play",o).show();n("#"+h).hide()});n(".cameraContent, .imgFake",s).hover(function(){ti=!0},function(){ti=!1});n(".cameraContent, .imgFake",s).bind("click",function(){ii==!0&&ti==!0&&(it=!1,n(".camera_caption",s).hide(),r.addClass("paused"),n(".camera_stop",o).hide(),n(".camera_play",o).show(),n("#"+h).hide())})}if(v!="pie"){ft.append('<span class="camera_bar_cont" />');n(".camera_bar_cont",ft).animate({opacity:t.loaderOpacity},0).css({position:"absolute",left:0,right:0,top:0,bottom:0,"background-color":t.loaderBgColor}).append('<span id="'+h+'" />');n("#"+h).animate({opacity:0},0);w=n("#"+h);w.css({position:"absolute","background-color":t.loaderColor});switch(t.barPosition){case"left":ft.css({right:"auto",width:t.loaderStroke});break;case"right":ft.css({left:"auto",width:t.loaderStroke});break;case"top":ft.css({bottom:"auto",height:t.loaderStroke});break;case"bottom":ft.css({top:"auto",height:t.loaderStroke})}switch(kt){case"leftToRight":w.css({left:0,right:0,top:t.loaderPadding,bottom:t.loaderPadding});break;case"rightToLeft":w.css({left:0,right:0,top:t.loaderPadding,bottom:t.loaderPadding});break;case"topToBottom":w.css({left:t.loaderPadding,right:t.loaderPadding,top:0,bottom:0});break;case"bottomToTop":w.css({left:t.loaderPadding,right:t.loaderPadding,top:0,bottom:0})}}else{ai.append('<canvas id="'+h+'"><\/canvas>');w=document.getElementById(h);w.setAttribute("width",t.pieDiameter);w.setAttribute("height",t.pieDiameter);switch(t.piePosition){case"leftTop":yt="left:0; top:0;";break;case"rightTop":yt="right:0; top:0;";break;case"leftBottom":yt="left:0; bottom:0;";break;case"rightBottom":yt="right:0; bottom:0;"}w.setAttribute("style","position:absolute; z-index:1002; "+yt);w&&w.getContext&&(l=w.getContext("2d"),l.rotate(Math.PI*(3/2)),l.translate(-t.pieDiameter,0))}if((v=="none"||it==!1)&&(n("#"+h).hide(),n(".camera_canvas_wrap",o).hide()),n(y).length){for(n(y).append('<ul class="camera_pag_ul" />'),pt=0;pt<d;pt++)n(".camera_pag_ul",e).append('<li class="pag_nav_'+pt+'" style="position:relative; z-index:1002"><span><span>'+pt+"<\/span><\/span><\/li>");n(".camera_pag_ul li",e).hover(function(){if(n(this).addClass("camera_hover"),n(".camera_thumb",this).length){var t=n(".camera_thumb",this).outerWidth(),i=n(".camera_thumb",this).outerHeight(),r=n(this).outerWidth();n(".camera_thumb",this).show().css({top:"-"+i+"px",left:"-"+(t-r)/2+"px"}).animate({opacity:1,"margin-top":"-3px"},200);n(".thumb_arrow",this).show().animate({opacity:1,"margin-top":"-3px"},200)}},function(){n(this).removeClass("camera_hover");n(".camera_thumb",this).animate({"margin-top":"-20px",opacity:0},200,function(){n(this).css({marginTop:"5px"}).hide()});n(".thumb_arrow",this).animate({"margin-top":"-20px",opacity:0},200,function(){n(this).css({marginTop:"5px"}).hide()})})}n(i).length?n(y).length?(n.each(at,function(t){if(n("> div",r).eq(t).attr("data-thumb")!=""){var u=n("> div",r).eq(t).attr("data-thumb"),i=new Image;i.src=u;n("li.pag_nav_"+t,y).append(n(i).attr("class","camera_thumb").css({position:"absolute"}).animate({opacity:0},0));n("li.pag_nav_"+t+" > img",y).after('<div class="thumb_arrow" />');n("li.pag_nav_"+t+" > .thumb_arrow",y).animate({opacity:0},0)}}),e.css({marginBottom:n(y).outerHeight()})):(n(i).append("<div />"),n(i).before('<div class="camera_prevThumbs hideNav"><div><\/div><\/div>').before('<div class="camera_nextThumbs hideNav"><div><\/div><\/div>'),n("> div",i).append("<ul />"),n.each(at,function(t){if(n("> div",r).eq(t).attr("data-thumb")!=""){var f=n("> div",r).eq(t).attr("data-thumb"),u=new Image;u.src=f;n("ul",i).append('<li class="pix_thumb pix_thumb_'+t+'" />');n("li.pix_thumb_"+t,i).append(n(u).attr("class","camera_thumb"))}})):!n(i).length&&n(y).length&&e.css({marginBottom:n(y).outerHeight()});ri=!0;n(oi).length&&(n(oi).append('<div class="camera_play"><\/div>').append('<div class="camera_stop"><\/div>'),it==!0?(n(".camera_play",o).hide(),n(".camera_stop",o).show()):(n(".camera_stop",o).hide(),n(".camera_play",o).show()));nt();n(".moveFromLeft, .moveFromRight, .moveFromTop, .moveFromBottom, .fadeIn, .fadeFromLeft, .fadeFromRight, .fadeFromTop, .fadeFromBottom",s).each(function(){n(this).css("visibility","hidden")});t.onStartLoading.call(this);p();n(fi).length&&n(fi).click(function(){if(!r.hasClass("camerasliding")){var i=parseFloat(n(".cameraSlide.cameracurrent",c).index());clearInterval(b);imgFake();n("#"+h+", .camera_canvas_wrap",e).animate({opacity:0},0);nt();i!=0?p(i):p(d);t.onStartLoading.call(this)}});n(ei).length&&n(ei).click(function(){if(!r.hasClass("camerasliding")){var i=parseFloat(n(".cameraSlide.cameracurrent",c).index());clearInterval(b);imgFake();n("#"+h+", .camera_canvas_wrap",o).animate({opacity:0},0);nt();i==d-1?p(1):p(i+2);t.onStartLoading.call(this)}});ut()&&(s.bind("swipeleft",function(){if(!r.hasClass("camerasliding")){var i=parseFloat(n(".cameraSlide.cameracurrent",c).index());clearInterval(b);imgFake();n("#"+h+", .camera_canvas_wrap",o).animate({opacity:0},0);nt();i==d-1?p(1):p(i+2);t.onStartLoading.call(this)}}),s.bind("swiperight",function(){if(!r.hasClass("camerasliding")){var i=parseFloat(n(".cameraSlide.cameracurrent",c).index());clearInterval(b);imgFake();n("#"+h+", .camera_canvas_wrap",o).animate({opacity:0},0);nt();i!=0?p(i):p(d);t.onStartLoading.call(this)}}));n(y).length&&n(".camera_pag li",e).click(function(){if(!r.hasClass("camerasliding")){var i=parseFloat(n(this).index()),u=parseFloat(n(".cameraSlide.cameracurrent",c).index());i!=u&&(clearInterval(b),imgFake(),n("#"+h+", .camera_canvas_wrap",o).animate({opacity:0},0),nt(),p(i+1),t.onStartLoading.call(this))}});n(i).length&&(n(".pix_thumb img",i).click(function(){if(!r.hasClass("camerasliding")){var u=parseFloat(n(this).parents("li").index()),f=parseFloat(n(".cameracurrent",c).index());u!=f&&(clearInterval(b),imgFake(),n("#"+h+", .camera_canvas_wrap",o).animate({opacity:0},0),n(".pix_thumb",i).removeClass("cameracurrent"),n(this).parents("li").addClass("cameracurrent"),nt(),p(u+1),dt(),t.onStartLoading.call(this))}}),n(".camera_thumbs_cont .camera_prevThumbs",o).hover(function(){n(this).stop(!0,!1).animate({opacity:1},250)},function(){n(this).stop(!0,!1).animate({opacity:.7},250)}),n(".camera_prevThumbs",o).click(function(){var t=0,e=n(i).outerWidth(),u=n("ul",i).offset().left,f=n("> div",i).offset().left,r=f-u;n(".camera_visThumb",i).each(function(){var i=n(this).outerWidth();t=t+i});r-t>0?n("ul",i).animate({"margin-left":"-"+(r-t)+"px"},500,g):n("ul",i).animate({"margin-left":0},500,g)}),n(".camera_thumbs_cont .camera_nextThumbs",o).hover(function(){n(this).stop(!0,!1).animate({opacity:1},250)},function(){n(this).stop(!0,!1).animate({opacity:.7},250)}),n(".camera_nextThumbs",o).click(function(){var t=0,f=n(i).outerWidth(),r=n("ul",i).outerWidth(),e=n("ul",i).offset().left,o=n("> div",i).offset().left,u=o-e;n(".camera_visThumb",i).each(function(){var i=n(this).outerWidth();t=t+i});u+t+t<r?n("ul",i).animate({"margin-left":"-"+(u+t)+"px"},500,g):n("ul",i).animate({"margin-left":"-"+(r-f)+"px"},500,g)}))}})(jQuery),function(n){n.fn.cameraStop=function(){var t=n(this),i=n(".camera_src",t),u="pie_"+t.index(),r;i.addClass("stopped");r=n(".camera_showcommands").length?n(".camera_thumbs_wrap",t):t}}(jQuery),function(n){n.fn.cameraPause=function(){var t=n(this),i=n(".camera_src",t);i.addClass("paused")}}(jQuery),function(n){n.fn.cameraResume=function(){var t=n(this),i=n(".camera_src",t);(typeof autoAdv=="undefined"||autoAdv!==!0)&&i.removeClass("paused")}}(jQuery)